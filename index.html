<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Heart Disease Detection</title>
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet" />
  <!-- Font Awesome for icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <!-- Animate.css for animations -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <style>
    /* Global Styles */
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #f3f9ff, #e9f3fc);
      color: #333;
      overflow-x: hidden;
    }
    h1, h2, h3, h4 {
      font-weight: 600;
    }
    a {
      text-decoration: none;
    }
    /* Side Navigation */
    .side-nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 260px;
      height: 100vh;
      background: #1e2a38;
      padding-top: 30px;
      z-index: 1000;
      box-shadow: 3px 0 15px rgba(0,0,0,0.1);
    }
    .side-nav .nav-link {
      color: #b0bec5;
      padding: 15px 20px;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      transition: background 0.3s, color 0.3s;
    }
    .side-nav .nav-link i {
      margin-right: 15px;
      font-size: 1.3rem;
      width: 30px;
      text-align: center;
    }
    .side-nav .nav-link:hover, .side-nav .nav-link.active {
      background: #263238;
      color: #fff;
    }
    .side-nav .nav-link:hover i, .side-nav .nav-link.active i {
      color: #ffab40;
    }
    /* Main Content */
    .main-content {
      margin-left: 280px;
      padding: 30px;
    }
    @media (max-width: 991.98px) {
      .side-nav {
        width: 100%;
        height: auto;
        position: relative;
      }
      .main-content {
        margin-left: 0;
        padding-top: 20px;
      }
    }
    /* Hero Section */
    .hero {
      text-align: center;
      margin-bottom: 40px;
    }
    .hero h1 {
      color: #d81b60;
    }
    .hero p {
      font-size: 1.1rem;
      color: #555;
    }
    .hero img {
      width: 100%;
      max-width: 400px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
      margin-top: 20px;
    }
    /* Form Container */
    .form-container {
      background: #fff;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      margin-bottom: 50px;
    }
    .form-container label {
      font-weight: 500;
      color: #333;
    }
    /* Premium Button */
    .btn-premium {
      background: linear-gradient(45deg, #d81b60, #e57373);
      border: none;
      font-size: 1.1rem;
      padding: 12px 0;
      border-radius: 50px;
      transition: background 0.3s, transform 0.3s;
    }
    .btn-premium:hover {
      background: linear-gradient(45deg, #e57373, #d81b60);
      transform: translateY(-2px);
    }
    /* Result Section */
    .result {
      margin-top: 30px;
      padding: 25px;
      border-radius: 15px;
      background: #f1f3f5;
      border-left: 5px solid #d81b60;
      display: none;
    }
    /* Information Cards */
    .info-card {
      border: none;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      background: #fff;
      text-align: center;
      padding: 30px 20px;
    }
    .info-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
    }
    .info-card i {
      font-size: 3rem;
      color: #d81b60;
      margin-bottom: 15px;
    }
    .info-card h5 {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    /* Section Headings */
    .section-heading {
      font-size: 2rem;
      margin-bottom: 30px;
      position: relative;
      display: inline-block;
      padding-bottom: 10px;
    }
    .section-heading::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 60%;
      height: 3px;
      background: #d81b60;
      transform: translateX(-50%);
      border-radius: 2px;
    }
  </style>
</head>
<body>
  <!-- Side Navigation -->
  <nav class="side-nav">
    <a class="nav-link active" href="#overview">
      <i class="fa-solid fa-house"></i> Overview
    </a>
    <a class="nav-link" href="#detection">
      <i class="fa-solid fa-heart-pulse"></i> Detection
    </a>
    <a class="nav-link" href="#about">
      <i class="fa-solid fa-circle-info"></i> About
    </a>
    <a class="nav-link" href="/about">
      <i class="fa-solid fa-circle-info"></i> Learn More
    </a>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Hero Section with Premium Heading and Illustration -->
    <section class="hero">
      <h1 class="animate__animated animate__fadeInDown">Heart Disease Detection using ML & DL</h1>
      <p class="lead animate__animated animate__fadeInDown">Leveraging advanced analytics and deep learning to keep your heart in check.</p>
      <!-- Provided Image -->
      <img class="animate__animated animate__zoomIn" src="https://t4.ftcdn.net/jpg/04/06/44/25/360_F_406442538_nGMpPB0W5SR0IBVeSTK0Rl7nuBMcStb5.jpg" alt="Heart Health Illustration">
    </section>

    <!-- Form Section -->
    <section id="detection">
      <div class="form-container animate__animated animate__fadeInUp">
        <form method="POST" id="heartForm">
          <div class="row g-3">
            <div class="col-md-6">
              <label for="age" class="form-label">Age</label>
              <input type="number" class="form-control" id="age" name="age" value="50" placeholder="Enter Age" required>
            </div>
            <div class="col-md-6">
              <label for="sex" class="form-label">Sex</label>
              <select class="form-select" id="sex" name="sex" required>
                <option value="" disabled selected>Select Sex</option>
                <option value="1">Male</option>
                <option value="0">Female</option>
              </select>
            </div>
            <div class="col-12">
              <label for="chest-pain" class="form-label">Chest Pain Type</label>
              <select class="form-select" id="chest-pain" name="chest-pain" required>
                <option value="" disabled selected>Select Chest Pain Type</option>
                <option value="0">ATA</option>
                <option value="1">NAP</option>
                <option value="2">ASY</option>
                <option value="3">TA</option>
              </select>
            </div>
            <div class="col-md-6">
              <label for="resting-bp" class="form-label">Resting Blood Pressure</label>
              <input type="number" class="form-control" id="resting-bp" name="resting-bp" value="100" placeholder="Enter Resting BP" required>
            </div>
            <div class="col-md-6">
              <label for="cholesterol" class="form-label">Cholesterol</label>
              <input type="number" class="form-control" id="cholesterol" name="cholesterol" value="121" placeholder="Enter Cholesterol" required>
            </div>
            <div class="col-md-6">
              <label for="fasting-bs" class="form-label">Fasting Blood Sugar &gt; 120 mg/dl?</label>
              <select class="form-select" id="fasting-bs" name="fasting-bs" required>
                <option value="" disabled selected>Select Option</option>
                <option value="1">Yes</option>
                <option value="0">No</option>
              </select>
            </div>
            <div class="col-md-6">
              <label for="max-hr" class="form-label">Max Heart Rate</label>
              <input type="number" class="form-control" id="max-hr" name="max-hr" placeholder="Enter Max HR" required>
            </div>
            <div class="col-md-6">
              <label for="exercise-angina" class="form-label">Exercise Induced Angina?</label>
              <select class="form-select" id="exercise-angina" name="exercise-angina" required>
                <option value="" disabled selected>Select Option</option>
                <option value="1">Yes</option>
                <option value="0">No</option>
              </select>
            </div>
            <div class="col-md-6">
              <label for="oldpeak" class="form-label">Oldpeak</label>
              <input type="number" step="0.1" class="form-control" id="oldpeak" name="oldpeak" value="0.2" placeholder="Enter Oldpeak" required>
            </div>
            <div class="col-12">
              <label for="st-slope" class="form-label">ST Slope</label>
              <select class="form-select" id="st-slope" name="st-slope" required>
                <option value="" disabled selected>Select ST Slope</option>
                <option value="0">Up</option>
                <option value="1">Flat</option>
                <option value="2">Down</option>
              </select>
            </div>
          </div>
          <div class="mt-4">
            <button type="submit" class="btn btn-premium w-100">Predict</button>
          </div>
        </form>

        <!-- Result Display -->
        {% if prediction is not none %}
        <div id="result" class="result animate__animated animate__fadeIn">
          <h4>Prediction: <span class="text-info">{{ 'Positive' if prediction == 1 else 'Negative' }}</span></h4>
          <p>Probability of Heart Disease: <strong>{{ probability|round(2) }}%</strong></p>
        </div>
        {% endif %}
      </div>
    </section>

    <!-- Information Cards Section -->
    <section id="overview">
      <div class="container">
        <h2 class="section-heading text-center animate__animated animate__fadeInDown">Project Highlights</h2>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="card info-card animate__animated animate__fadeInUp">
              <div class="card-body">
                <i class="fa-solid fa-robot"></i>
                <h5 class="card-title">Machine Learning</h5>
                <p class="card-text">
                  Robust algorithms trained on extensive datasets to accurately predict heart disease.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card info-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
              <div class="card-body">
                <i class="fa-solid fa-brain"></i>
                <h5 class="card-title">Deep Learning</h5>
                <p class="card-text">
                  Cutting-edge deep learning techniques enhance heart disease diagnostic accuracy and speed.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card info-card animate__animated animate__fadeInUp" style="animation-delay: 0.4s;">
              <div class="card-body">
                <i class="fa-solid fa-clock"></i>
                <h5 class="card-title">Real-Time Detection</h5>
                <p class="card-text">
                  Experience instantaneous analysis with our sleek, interactive UI for real-time monitoring.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="mt-5">
      <div class="container">
        <h2 class="section-heading text-center animate__animated animate__fadeInDown">About the Project</h2>
        <p class="lead text-center">
          Our project leverages advanced machine learning and deep learning models to predict heart disease with remarkable accuracy.
          Coupled with an intuitive interface and dynamic visualizations, our solution empowers users to take control of their heart health.
        </p>
      </div>
    </section>
  </div>

  <!-- Bootstrap 5 JS Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- jQuery for additional dynamic interactions -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {
      // Reveal the result section smoothly if prediction exists
      {% if prediction is not none %}
      $("#result").slideDown();
      {% endif %}
    });
  </script>
</body>
</html>
